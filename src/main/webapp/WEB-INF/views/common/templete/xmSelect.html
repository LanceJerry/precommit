
<!-- 功能下拉函数 -->
#define getFuncSelect(divId,inputName)
	<div id="#(divId)"></div>
	<script type="text/javascript">
	$(function(){
		getFuncOption("#(divId)","#(inputName)","#(value)",#(radio??true),#(filterable??false));
	});
</script>
#set(value="")
#end

<!-- 部门下拉函数 -->
#define getOrgSelect(divId,inputName)
<div id="#(divId)"></div>
<script type="text/javascript">
	$(function(){
		getOrgOption("#(divId)","#(inputName)","#(value)",#(radio??true),#(filterable??false));
	});
</script>
#set(value="")
#end

#define getOrgOption()
<script type="text/javascript">
//部门下拉树
function getOrgOption(divId,inputName,selectData,radio,filterable){
	var url='#(path)/portal/core/sysOrg/getXmSelectData';
	getXmSelectOption(divId,inputName,selectData,radio,filterable,url);
}
//功能下拉树
function getFuncOption(divId,inputName,selectData,radio,filterable){
	var url='#(path)/portal/core/sysFunc/getXmSelectData';
	getXmSelectOption(divId,inputName,selectData,radio,filterable,url);
}
function getXmSelectOption(divId,inputName,selectData,radio,filterable,url){
	var org = xmSelect.render({
		el: '#'+divId, 
		model: { label: { type: 'text' } },
		radio: radio,
		clickClose: true,
		//表单提交名称
		name:inputName,
		tree: {
			show: true,
			strict: false,
			expandedKeys: [ -1,-2,-3 ],
		},
		height: 'auto',
		//搜索开关：true/false
		filterable:filterable
	})
	
	$.ajax({
		url:url,
		type:"POST",
		data:{"selectData":selectData},
		success:function(ret){
			if(ret.state=='ok'){
				var data=ret.data;
				org.update({
					data: data,
					autoRow: true,
				})
			}
		}
	})
}
</script>
#end
